var ssDeepLink=function(e,t,r=!1,n={}){let a={context:{range:[],scope:{},variables:{}},messengers:[{key:"?",name:"telegram",parameter:"start",prefixes:["tg://","https://t.me/"]},{key:"?",name:"facebook",parameter:"ref",prefixes:["https://m.me/"]},{key:"?",name:"instagram",parameter:"ref",prefixes:["https://ig.me/"]},{key:"#",name:"vkontakte",parameter:"r",prefixes:["https://vk.com/", "vk://"]},{key:"?",name:"viber",parameter:"context",prefixes:["viber://"]}],delimiter:"|",url:"https://"+t+".customer.smartsender.eu/api/i/store"};Array.from(document.getElementsByClassName(e)).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),function(e){let t=new XMLHttpRequest;t.open("POST",a.url),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){let t=JSON.parse(this.responseText);location.href=function(e,t){let r=a.messengers.find(function(t){return t.prefixes.find(function(t){return 0===e.indexOf(t)})}),n=e.split(r.key),s=n[1].split("&");return s.forEach(function(e,n){let i=e.split("=");if(r.parameter===i[0]){let e=btoa(atob(i[1])+a.delimiter+t.id).replace(/=/g, '');s.splice(n,1,[r.parameter,e].join("="))}}),n[0]+r.key+s.join("&")}(e,t)}},t.send(function(e){return Object.keys(a.context).forEach(function(t){Object.keys(e).includes(t)||(e[t]={})}),JSON.stringify(r?(t=e,new URLSearchParams(window.location.search).forEach(function(e,r){t.variables.hasOwnProperty(r)||(t.variables[r]=e)}),t):e);var t}(n))}(e.getAttribute("href"))})})};